{% extends "layout.html" %}

{% block content %}
<div class="glass-card">
  <h2>Edit Transaction</h2>
  <form method="post" class="row g-4">
    <div class="col-md-3 col-sm-6">
      <label for="amount" class="form-label fw-semibold">Amount</label>
      <input
        type="number"
        step="0.01"
        min="0"
        class="form-control"
        id="amount"
        name="amount"
        required
        value="{{ transaction['amount'] }}"
        autofocus
      />
    </div>
    <div class="col-md-3 col-sm-6">
      <label for="type" class="form-label fw-semibold">Type</label>
      <select class="form-select" id="type" name="type" required>
        <option value="income" {% if transaction['type'] == 'income' %}selected{% endif %}>Income</option>
        <option value="expense" {% if transaction['type'] == 'expense' %}selected{% endif %}>Expense</option>
      </select>
    </div>
    <div class="col-md-3 col-sm-6">
      <label for="category" class="form-label fw-semibold">Category</label>
      <select class="form-select" id="category" name="category" required>
        {% for cat in categories %}
        <option value="{{ cat }}" {% if cat == transaction['category'] %}selected{% endif %}>{{ cat }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="col-md-3 col-sm-6">
      <label for="date" class="form-label fw-semibold">Date</label>
      <input
        type="date"
        class="form-control"
        id="date"
        name="date"
        required
        value="{{ transaction['date'] }}"
      />
    </div>
    <div class="col-12">
      <label for="description" class="form-label fw-semibold">Description (optional)</label>
      <input
        type="text"
        class="form-control"
        id="description"
        name="description"
        value="{{ transaction['description'] }}"
        placeholder="e.g., Monthly rent"
      />
    </div>
    <div class="col-12 d-flex gap-3 mt-3">
      <button type="submit" class="btn btn-primary">
        <i class="bi bi-check-lg me-2"></i>Save Changes
      </button>
      <a href="{{ url_for('index') }}" class="btn btn-secondary">
        <i class="bi bi-x-lg me-2"></i>Cancel
      </a>
    </div>
  </form>
</div>
{% endblock %}
